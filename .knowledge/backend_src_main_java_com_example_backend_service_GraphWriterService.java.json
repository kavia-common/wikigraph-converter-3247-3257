{"is_source_file": true, "format": "Java", "description": "This file defines the GraphWriterService class responsible for writing a Wikipedia page graph into a Neo4j database. It includes methods for merging page nodes, deriving minimal titles from URLs, and tracking counters for nodes and relationships created during the process.", "external_files": ["org.neo4j.driver.Driver", "org.neo4j.driver.Query", "org.neo4j.driver.Result", "org.neo4j.driver.Session", "org.neo4j.driver.SessionConfig", "org.neo4j.driver.TransactionCallback", "org.neo4j.driver.Values", "org.neo4j.driver.summary.ResultSummary", "org.neo4j.driver.summary.SummaryCounters", "org.springframework.stereotype.Service"], "external_methods": ["Objects.requireNonNull", "session.executeWrite", "tx.run", "Result.consume", "SummaryCounters.nodesCreated", "SummaryCounters.relationshipsCreated", "URI.create", "URI.getPath", "String.replace", "String.trim", "Character.toUpperCase"], "published": ["GraphWriteResult", "GraphWriteException"], "classes": [{"name": "GraphWriteResult", "description": "A data transfer object encapsulating the number of nodes and relationships created by the writeGraph method."}, {"name": "GraphWriteException", "description": "A custom runtime exception indicating failure during graph write operations."}], "methods": [{"name": "writeGraph", "description": "Main method that writes a main page and linked pages into Neo4j, creating nodes and relationships, and returning counters.", "parameters": ["String mainUrl", "String mainTitle", "Collection<String> linkedUrls"]}, {"name": "safeNodeCreates", "description": "Helper to safely retrieve nodesCreated count from ResultSummary counters."}, {"name": "safeRelCreates", "description": "Helper to safely retrieve relationshipsCreated count from ResultSummary counters."}, {"name": "deriveTitleFromUrl", "description": "Derives a minimal human-readable title from a Wikipedia URL slug."}, {"name": "capitalizeFirst", "description": "Capitalizes the first character of a string."}], "calls": ["driver.session", "session.executeWrite", "tx.run", "Result.consume", "SummaryCounters.nodesCreated", "SummaryCounters.relationshipsCreated"], "search-terms": ["Neo4j graph writing service", "Wikipedia URL to Neo4j nodes", "MERGE page node", "LINKS_TO relationship", "derive title from URL", "writeGraph method", "GraphWriteResult", "Neo4j driver", "Cypher queries for page graph"], "state": 2, "file_id": 11, "knowledge_revision": 26, "git_revision": "", "revision_history": [{"24": ""}, {"25": ""}, {"26": ""}], "hash": "66295d019693ecd66f720438ef1bbf6b", "format-version": 4, "code-base-name": "backend", "filename": "backend/src/main/java/com/example/backend/service/GraphWriterService.java"}