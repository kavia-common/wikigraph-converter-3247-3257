{"is_source_file": true, "format": "Java", "description": "This file defines the GraphWriterService class, a service for writing Wikipedia page graphs into Neo4j. It handles merging page nodes, creating relationships, and deriving minimal titles from URLs, with counters for created nodes and relationships.", "external_files": ["org.neo4j.driver.Driver", "org.neo4j.driver.Query", "org.neo4j.driver.Session", "org.neo4j.driver.SessionConfig", "org.neo4j.driver.TransactionCallback", "org.neo4j.driver.Values", "org.neo4j.driver.summary.ResultSummary", "org.neo4j.driver.summary.SummaryCounters", "org.springframework.stereotype.Service"], "external_methods": ["Objects.requireNonNull", "driver.session", "session.executeWrite", "tx.run", "ResultSummary.counters", "SummaryCounters.nodesCreated", "SummaryCounters.relationshipsCreated", "URI(uri)", "String.isBlank", "String.replace", "String.trim", "Character.toUpperCase"], "published": ["GraphWriterService", "GraphWriterService.GraphWriteException", "GraphWriterService.GraphWriteResult"], "classes": [{"name": "GraphWriterService", "description": "A Java service class facilitating the writing of Wikipedia page graph data into a Neo4j database, including node merging, relationship creation, and title derivation."}, {"name": "GraphWriterService.GraphWriteException", "description": "Custom runtime exception indicating failure during graph write operations."}, {"name": "GraphWriterService.GraphWriteResult", "description": "A data transfer object encapsulating counters of created nodes and relationships during a write operation."}], "methods": [{"name": "writeGraph", "description": "Main method to write the main page and its linked pages into Neo4j, returning counts of created nodes and links."}, {"name": "safeNodeCreates", "description": "Helper to safely extract node creation count from query summary counters."}, {"name": "safeRelCreates", "description": "Helper to safely extract relationship creation count from summary counters."}, {"name": "deriveTitleFromUrl", "description": "Derives a human-readable title from a Wikipedia URL slug, capitalizing first letters and replacing underscores."}], "calls": ["driver.session", "session.executeWrite", "tx.run", "ResultSummary.counters", "SummaryCounters.nodesCreated", "SummaryCounters.relationshipsCreated", "URI", "Character.toUpperCase"], "search-terms": ["Neo4j Java driver", "Wikipedia URL graph", "Graph writing service", "MERGE nodes relationships", "derive title URL", "Page node MERGE", "GraphWriteResult", "Neo4j transaction callback"], "state": 2, "file_id": 11, "knowledge_revision": 27, "git_revision": "da60d41a5c9da261404ed66d994aeb89004679c1", "revision_history": [{"24": ""}, {"25": ""}, {"26": ""}, {"27": "da60d41a5c9da261404ed66d994aeb89004679c1"}], "hash": "594654f56ad5e1bdee79c4de9921d8f1", "format-version": 4, "code-base-name": "backend", "filename": "backend/src/main/java/com/example/backend/service/GraphWriterService.java"}